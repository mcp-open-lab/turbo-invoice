---
description: Turbo Invoice rule index (legacy entrypoint + pointers to scoped rules)
alwaysApply: true
---

# Turbo Invoice (Cursor Rules Index)

This repo uses scoped Cursor rules under `.cursor/rules/*.mdc`.

## Key rules (high level)
- Prefer **Server Components** for reads; no `useEffect` data fetching.
- Prefer **Server Actions** for mutations (module-aligned in `lib/modules/*/actions.ts`).
- Avoid new `app/api/*` routes except required handlers (webhooks, UploadThing, Inngest).
- Use **Drizzle inferred types** and always **scope DB queries by userId**.

## Related scoped rules
- `00_project-overview.mdc`: global constraints and conventions
- `10_nextjs-app-router.mdc`: App Router + routing conventions
- `20_server-actions-and-modules.mdc`: module/actions patterns + feature gating
- `30_drizzle-auth-safety.mdc`: DB/auth scoping + type rules
- `40_testing.mdc`: test structure + mocking conventions

